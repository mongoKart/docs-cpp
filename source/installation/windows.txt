Configuring with ``mongocxx`` 3.7.0 and Older
`````````````````````````````````````````````

To build versions 3.7.0 and older without a C++17 polyfill, it is necessary to
configure with additional options:

- ``/Zc:__cplusplus`` to opt into the correct definition of ``__cplusplus`` (`problem described here <https://devblogs.microsoft.com/cppblog/msvc-now-correctly-reports-__cplusplus/>`__)
- ``/EHsc`` to enable recommended `exception handling behavior <https://learn.microsoft.com/en-us/cpp/build/reference/eh-exception-handling-model?view=msvc-170>`__.

.. code-block:: bash

   'C:\Program Files (x86)\CMake\bin\cmake.exe' .. \
       -G "Visual Studio 15 2017" -A "x64"         \
       -DCMAKE_CXX_STANDARD=17                     \
       -DCMAKE_CXX_FLAGS="/Zc:__cplusplus /EHsc"   \
       -DCMAKE_INSTALL_PREFIX=C:\mongo-cxx-driver  \

Configuring with ``mongocxx`` 3.1.x or 3.0.x

.. code-block:: bash

   cmake ..                                            \
       -DLIBMONGOC_DIR=C:\mongo-c-driver               \
       -DCMAKE_INSTALL_PREFIX=C:\mongo-cxx-driver





The driver can be uninstalled at a later time in one of two ways.  First,
the uninstall target can be called:

.. code-block:: bash

   cmake --build . --target uninstall

Second, the uninstall script can be called:

.. code-block:: none

   C:\opt\mongo-cxx-driver\share\mongo-cxx-driver\uninstall.cmd
